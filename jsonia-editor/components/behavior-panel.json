{
  "extends": "component",
  "name": "behavior-panel",
  "template": {
    "tag": "aside",
    "attributes": { "class": "behavior-panel", "data-panel": "behavior", "style": "display: none;" },
    "children": [
    {
      "tag": "div",
      "attributes": { "class": "panel-header" },
      "text": "âš¡ å‹•ä½œå®šç¾©"
    },
    {
      "tag": "div",
      "attributes": { "class": "behavior-tabs" },
      "children": [
        {
          "tag": "button",
          "attributes": { "class": "behavior-tab active", "data-tab": "events" },
          "text": "ğŸ¯ ã‚¤ãƒ™ãƒ³ãƒˆ"
        },
        {
          "tag": "button",
          "attributes": { "class": "behavior-tab", "data-tab": "state" },
          "text": "ğŸ’¾ çŠ¶æ…‹"
        },
        {
          "tag": "button",
          "attributes": { "class": "behavior-tab", "data-tab": "validation" },
          "text": "âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³"
        },
        {
          "tag": "button",
          "attributes": { "class": "behavior-tab", "data-tab": "apis" },
          "text": "ğŸŒ API"
        }
      ]
    },
    {
      "tag": "div",
      "attributes": { "class": "behavior-content" },
      "children": [
        {
          "tag": "div",
          "attributes": { "id": "events-panel", "class": "behavior-section active", "data-slot": "events" }
        },
        {
          "tag": "div",
          "attributes": { "id": "state-panel", "class": "behavior-section", "data-slot": "state" }
        },
        {
          "tag": "div",
          "attributes": { "id": "validation-panel", "class": "behavior-section", "data-slot": "validation" }
        },
        {
          "tag": "div",
          "attributes": { "id": "apis-panel", "class": "behavior-section", "data-slot": "apis" }
        }
      ]
    }
    ]
  },
  "behavior": {
    "actions": {
      "initBehaviorEditor": {
        "type": "sequence",
        "steps": [
          { "type": "console", "message": "ğŸ¨ BehaviorEditoråˆæœŸåŒ–ä¸­..." },
          { "type": "setState", "key": "behaviorEditorState", "value": { "events": {}, "state": {}, "validation": {}, "apis": {} } },
          { "type": "console", "message": "âœ… BehaviorEditoråˆæœŸåŒ–å®Œäº†" }
        ]
      },
      "switchBehaviorTab": {
        "type": "sequence",
        "steps": [
          {
            "type": "dom.selectAll",
            "selector": ".behavior-tab",
            "output": "tabs"
          },
          {
            "type": "dom.selectAll",
            "selector": ".behavior-section",
            "output": "sections"
          },
          {
            "type": "array.forEach",
            "array": "{{tabs}}",
            "item": "tab",
            "do": [
              { "type": "dom.removeClass", "target": "{{tab}}", "className": "active" }
            ]
          },
          {
            "type": "array.forEach",
            "array": "{{sections}}",
            "item": "section",
            "do": [
              { "type": "dom.removeClass", "target": "{{section}}", "className": "active" }
            ]
          }
        ]
      }
    }
  }
}
