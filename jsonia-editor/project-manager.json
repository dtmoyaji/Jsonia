{
  "title": "Jsonia Project Manager",
  "meta": {
    "charset": "UTF-8",
    "viewport": "width=device-width, initial-scale=1.0"
  },
  "styles": [
    {
      "$include": "css.json"
    }
  ],
  "body": [
    {
      "tag": "div",
      "attributes": {
        "class": "manager-container"
      },
      "children": [
        {
          "tag": "header",
          "attributes": {
            "class": "header"
          },
          "children": [
            {
              "tag": "h1",
              "text": "ğŸ“ Jsonia ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†"
            },
            {
              "tag": "div",
              "children": [
                {
                  "tag": "button",
                  "text": "ğŸ¨ ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã«æˆ»ã‚‹",
                  "attributes": {
                    "class": "btn",
                    "onclick": "window.location.href='/editor'"
                  }
                }
              ]
            }
          ]
        },
        {
          "tag": "main",
          "attributes": {
            "class": "content"
          },
          "children": [
            {
              "tag": "section",
              "attributes": {
                "class": "create-section"
              },
              "children": [
                {
                  "tag": "h2",
                  "text": "ğŸš€ æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ"
                },
                {
                  "tag": "form",
                  "attributes": {
                    "id": "create-project-form",
                    "onsubmit": "return createProject(event)"
                  },
                  "children": [
                    {
                      "tag": "div",
                      "attributes": {
                        "style": "display: grid; grid-template-columns: 1fr 1fr; gap: 20px;"
                      },
                      "children": [
                        {
                          "tag": "div",
                          "attributes": {
                            "class": "form-group"
                          },
                          "children": [
                            {
                              "tag": "label",
                              "text": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå *",
                              "attributes": {
                                "class": "form-label"
                              }
                            },
                            {
                              "tag": "input",
                              "attributes": {
                                "type": "text",
                                "class": "form-input",
                                "id": "project-name",
                                "name": "name",
                                "placeholder": "my-awesome-project",
                                "required": "true"
                              }
                            }
                          ]
                        },
                        {
                          "tag": "div",
                          "attributes": {
                            "class": "form-group"
                          },
                          "children": [
                            {
                              "tag": "label",
                              "text": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ",
                              "attributes": {
                                "class": "form-label"
                              }
                            },
                            {
                              "tag": "select",
                              "attributes": {
                                "class": "form-select",
                                "id": "project-template",
                                "name": "template"
                              },
                              "children": [
                                {
                                  "tag": "option",
                                  "text": "ç©ºã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ",
                                  "attributes": {
                                    "value": "empty"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "ãƒ–ãƒ­ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ",
                                  "attributes": {
                                    "value": "blog"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "ãƒ•ã‚©ãƒ¼ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ",
                                  "attributes": {
                                    "value": "form"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸",
                                  "attributes": {
                                    "value": "landing"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
                                  "attributes": {
                                    "value": "dashboard"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "Eã‚³ãƒãƒ¼ã‚¹",
                                  "attributes": {
                                    "value": "ecommerce"
                                  }
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "tag": "div",
                      "attributes": {
                        "class": "form-group"
                      },
                      "children": [
                        {
                          "tag": "label",
                          "text": "èª¬æ˜",
                          "attributes": {
                            "class": "form-label"
                          }
                        },
                        {
                          "tag": "input",
                          "attributes": {
                            "type": "text",
                            "class": "form-input",
                            "id": "project-description",
                            "name": "description",
                            "placeholder": "ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è©³ç´°èª¬æ˜..."
                          }
                        }
                      ]
                    },
                    {
                      "tag": "button",
                      "text": "ğŸš€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ",
                      "attributes": {
                        "type": "submit",
                        "class": "btn btn-success"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "tag": "section",
              "attributes": {
                "class": "projects-section"
              },
              "children": [
                {
                  "tag": "div",
                  "attributes": {
                    "style": "display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;"
                  },
                  "children": [
                    {
                      "tag": "h2",
                      "text": "ğŸ“‚ æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"
                    },
                    {
                      "tag": "button",
                      "text": "ğŸ”„ æ›´æ–°",
                      "attributes": {
                        "class": "btn",
                        "onclick": "loadProjects()"
                      }
                    }
                  ]
                },
                {
                  "tag": "div",
                  "attributes": {
                    "id": "projects-grid",
                    "class": "project-grid"
                  },
                  "children": [
                    {
                      "tag": "div",
                      "attributes": {
                        "class": "loading"
                      },
                      "text": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èª­ã¿è¾¼ã¿ä¸­..."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "scripts": [
    {
      "content": "async function loadProjects() { try { const response = await fetch('/projects'); const projects = await response.json(); const grid = document.getElementById('projects-grid'); if (projects.length === 0) { grid.innerHTML = '<div class=\"empty-state\"><h3>ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚Šã¾ã›ã‚“</h3><p>æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p></div>'; return; } grid.innerHTML = projects.map(project => `<div class=\"project-card\"><h3><span>${getProjectIcon(project.template)}</span> ${project.name}</h3><p>${project.description || 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èª¬æ˜ãŒã‚ã‚Šã¾ã›ã‚“'}</p><div class=\"project-meta\">ä½œæˆ: ${new Date(project.created).toLocaleDateString('ja-JP')} | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: ${project.template}</div><div class=\"project-actions\"><button class=\"btn\" onclick=\"openProject('${project.name}')\">ğŸ“ ç·¨é›†</button><button class=\"btn\" onclick=\"previewProject('${project.name}')\">ğŸ‘ï¸ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</button><button class=\"btn btn-danger\" onclick=\"deleteProject('${project.name}')\">ğŸ—‘ï¸ å‰Šé™¤</button></div></div>`).join(''); } catch (error) { console.error('ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error); document.getElementById('projects-grid').innerHTML = '<div class=\"empty-state\"><h3>âŒ ã‚¨ãƒ©ãƒ¼</h3><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ</p></div>'; } } function getProjectIcon(template) { const icons = { empty: 'ğŸ“„', blog: 'ğŸ“', form: 'ğŸ“‹', landing: 'ğŸ¯', dashboard: 'ğŸ“Š', ecommerce: 'ğŸ›’' }; return icons[template] || 'ğŸ“„'; } async function createProject(event) { event.preventDefault(); const formData = new FormData(event.target); const projectData = { name: formData.get('name'), template: formData.get('template'), description: formData.get('description') }; try { const response = await fetch('/projects/create', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(projectData) }); if (response.ok) { alert('âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã•ã‚Œã¾ã—ãŸ!'); event.target.reset(); loadProjects(); } else { const error = await response.json(); alert('âŒ ã‚¨ãƒ©ãƒ¼: ' + (error.message || 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ')); } } catch (error) { console.error('ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã‚¨ãƒ©ãƒ¼:', error); alert('âŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ'); } return false; } function openProject(name) { window.location.href = `/editor?project=${encodeURIComponent(name)}`; } function previewProject(name) { window.open(`/projects/${encodeURIComponent(name)}`, '_blank'); } async function deleteProject(name) { if (!confirm(`ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€Œ${name}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\\nã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚`)) return; try { const response = await fetch(`/projects/${encodeURIComponent(name)}`, { method: 'DELETE' }); if (response.ok) { alert('âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸ'); loadProjects(); } else { const error = await response.json(); alert('âŒ ã‚¨ãƒ©ãƒ¼: ' + (error.message || 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ')); } } catch (error) { console.error('ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤ã‚¨ãƒ©ãƒ¼:', error); alert('âŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ'); } } document.addEventListener('DOMContentLoaded', loadProjects);"
    }
  ]
}