{
  "title": "Jsonia Project Manager",
  "meta": {
    "charset": "UTF-8",
    "viewport": "width=device-width, initial-scale=1.0"
  },
  "styles": [
    {
      "$include": "css.json"
    }
  ],
  "body": [
    {
      "tag": "div",
      "attributes": {
        "class": "manager-container"
      },
      "children": [
        {
          "tag": "header",
          "attributes": {
            "class": "header"
          },
          "children": [
            {
              "tag": "h1",
              "text": "üìÅ Jsonia „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÁÆ°ÁêÜ"
            },
            {
              "tag": "div",
              "children": [
                {
                  "tag": "button",
                  "text": "üé® „Ç®„Éá„Ç£„Çø„Éº„Å´Êàª„Çã",
                  "attributes": {
                    "class": "btn",
                    "onclick": "window.location.href='/editor'"
                  }
                }
              ]
            }
          ]
        },
        {
          "tag": "main",
          "attributes": {
            "class": "content"
          },
          "children": [
            {
              "tag": "section",
              "attributes": {
                "class": "create-section"
              },
              "children": [
                {
                  "tag": "h2",
                  "text": "üöÄ Êñ∞„Åó„ÅÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê"
                },
                {
                  "tag": "form",
                  "attributes": {
                    "id": "create-project-form",
                    "onsubmit": "return createProject(event)"
                  },
                  "children": [
                    {
                      "tag": "div",
                      "attributes": {
                        "style": "display: grid; grid-template-columns: 1fr 1fr; gap: 20px;"
                      },
                      "children": [
                        {
                          "tag": "div",
                          "attributes": {
                            "class": "form-group"
                          },
                          "children": [
                            {
                              "tag": "label",
                              "text": "„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂêç *",
                              "attributes": {
                                "class": "form-label"
                              }
                            },
                            {
                              "tag": "input",
                              "attributes": {
                                "type": "text",
                                "class": "form-input",
                                "id": "project-name",
                                "name": "name",
                                "placeholder": "my-awesome-project",
                                "required": "true"
                              }
                            }
                          ]
                        },
                        {
                          "tag": "div",
                          "attributes": {
                            "class": "form-group"
                          },
                          "children": [
                            {
                              "tag": "label",
                              "text": "„ÉÜ„É≥„Éó„É¨„Éº„Éà",
                              "attributes": {
                                "class": "form-label"
                              }
                            },
                            {
                              "tag": "select",
                              "attributes": {
                                "class": "form-select",
                                "id": "project-template",
                                "name": "template"
                              },
                              "children": [
                                {
                                  "tag": "option",
                                  "text": "Á©∫„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà",
                                  "attributes": {
                                    "value": "empty"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "„Éñ„É≠„Ç∞„ÉÜ„É≥„Éó„É¨„Éº„Éà",
                                  "attributes": {
                                    "value": "blog"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "„Éï„Ç©„Éº„É†„ÉÜ„É≥„Éó„É¨„Éº„Éà",
                                  "attributes": {
                                    "value": "form"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "„É©„É≥„Éá„Ç£„É≥„Ç∞„Éö„Éº„Ç∏",
                                  "attributes": {
                                    "value": "landing"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ",
                                  "attributes": {
                                    "value": "dashboard"
                                  }
                                },
                                {
                                  "tag": "option",
                                  "text": "E„Ç≥„Éû„Éº„Çπ",
                                  "attributes": {
                                    "value": "ecommerce"
                                  }
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "tag": "div",
                      "attributes": {
                        "class": "form-group"
                      },
                      "children": [
                        {
                          "tag": "label",
                          "text": "Ë™¨Êòé",
                          "attributes": {
                            "class": "form-label"
                          }
                        },
                        {
                          "tag": "input",
                          "attributes": {
                            "type": "text",
                            "class": "form-input",
                            "id": "project-description",
                            "name": "description",
                            "placeholder": "„Åì„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆË©≥Á¥∞Ë™¨Êòé..."
                          }
                        }
                      ]
                    },
                    {
                      "tag": "button",
                      "text": "üöÄ „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê",
                      "attributes": {
                        "type": "submit",
                        "class": "btn btn-success"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "tag": "section",
              "attributes": {
                "class": "projects-section"
              },
              "children": [
                {
                  "tag": "div",
                  "attributes": {
                    "style": "display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;"
                  },
                  "children": [
                    {
                      "tag": "h2",
                      "text": "üìÇ Êó¢Â≠ò„Éó„É≠„Ç∏„Çß„ÇØ„Éà"
                    },
                    {
                      "tag": "button",
                      "text": "üîÑ Êõ¥Êñ∞",
                      "attributes": {
                        "class": "btn",
                        "onclick": "loadProjects()"
                      }
                    }
                  ]
                },
                {
                  "tag": "div",
                  "attributes": {
                    "id": "projects-grid",
                    "class": "project-grid"
                  },
                  "children": [
                    {
                      "tag": "div",
                      "attributes": {
                        "class": "loading"
                      },
                      "text": "„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíË™≠„ÅøËæº„Åø‰∏≠..."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "scripts": [
    {
      "content": "async function loadProjects() { try { const response = await fetch('/projects'); const projects = await response.json(); const grid = document.getElementById('projects-grid'); if (projects.length === 0) { grid.innerHTML = '<div class=\"empty-state\"><h3>üìÅ „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</h3><p>Êñ∞„Åó„ÅÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅ</p></div>'; return; } grid.innerHTML = projects.map(project => `<div class=\"project-card\"><h3><span>${getProjectIcon(project.template)}</span> ${project.name}</h3><p>${project.description || '„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆË™¨Êòé„Åå„ÅÇ„Çä„Åæ„Åõ„Çì'}</p><div class=\"project-meta\">‰ΩúÊàê: ${new Date(project.created).toLocaleDateString('ja-JP')} | „ÉÜ„É≥„Éó„É¨„Éº„Éà: ${project.template}</div><div class=\"project-actions\"><button class=\"btn\" onclick=\"openProject('${project.name}')\">üìù Á∑®ÈõÜ</button><button class=\"btn\" onclick=\"previewProject('${project.name}')\">üëÅÔ∏è „Éó„É¨„Éì„É•„Éº</button><button class=\"btn btn-danger\" onclick=\"deleteProject('${project.name}')\">üóëÔ∏è ÂâäÈô§</button></div></div>`).join(''); } catch (error) { console.error('„Éó„É≠„Ç∏„Çß„ÇØ„ÉàË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error); document.getElementById('projects-grid').innerHTML = '<div class=\"empty-state\"><h3>‚ùå „Ç®„É©„Éº</h3><p>„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü</p></div>'; } } function getProjectIcon(template) { const icons = { empty: 'üìÑ', blog: 'üìù', form: 'üìã', landing: 'üéØ', dashboard: 'üìä', ecommerce: 'üõí' }; return icons[template] || 'üìÑ'; } async function createProject(event) { event.preventDefault(); const formData = new FormData(event.target); const projectData = { name: formData.get('name'), template: formData.get('template'), description: formData.get('description') }; try { const response = await fetch('/projects/create', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(projectData) }); if (response.ok) { alert('‚úÖ „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Åå‰ΩúÊàê„Åï„Çå„Åæ„Åó„Åü!'); event.target.reset(); loadProjects(); } else { const error = await response.json(); alert('‚ùå „Ç®„É©„Éº: ' + (error.message || '„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü')); } } catch (error) { console.error('„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê„Ç®„É©„Éº:', error); alert('‚ùå „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü'); } return false; } function openProject(name) { window.location.href = `/editor?project=${encodeURIComponent(name)}`; } function previewProject(name) { window.open(`/projects/${encodeURIComponent(name)}`, '_blank'); } async function deleteProject(name) { if (!confirm(`„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Äå${name}„Äç„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü\\n„Åì„ÅÆÊìç‰Ωú„ÅØÂÖÉ„Å´Êàª„Åõ„Åæ„Åõ„Çì„ÄÇ`)) return; try { const response = await fetch(`/projects/${encodeURIComponent(name)}`, { method: 'DELETE' }); if (response.ok) { alert('‚úÖ „Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅåÂâäÈô§„Åï„Çå„Åæ„Åó„Åü'); loadProjects(); } else { const error = await response.json(); alert('‚ùå „Ç®„É©„Éº: ' + (error.message || '„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü')); } } catch (error) { console.error('„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂâäÈô§„Ç®„É©„Éº:', error); alert('‚ùå „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü'); } } document.addEventListener('DOMContentLoaded', loadProjects);"
    }
  ]
}